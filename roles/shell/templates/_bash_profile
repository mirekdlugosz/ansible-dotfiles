export HISTCONTROL="$HISTCONTROL${HISTCONTROL+:}erasedups:ignorespace"
export HISTSIZE=20000
export HISTFILESIZE=$HISTSIZE
# https://www.reddit.com/r/linux/comments/46ubi8/ls_output_changes_considered_unacceptable/
export QUOTING_STYLE=literal

# Non-standard common tooling
export FZF_DEFAULT_COMMAND='fd --type f'
export BAT_THEME="Monokai Extended"
export BAT_STYLE="plain"
export _ZL_ADD_ONCE="1"

# OS-specific
{% if shell_extra_vars is defined %}
{% for key, value in shell_extra_vars.items() %}
export {{ key }}="{{ value }}"
{% endfor %}
{% endif %}

# PATH setup
for dir in {% for dir in shell_additional_paths %}"{{ dir }}" {% endfor %}; do
	if ! echo $PATH |grep -q -F "$dir"; then
		PATH="${dir}:$PATH"
	fi
done
export PATH

# read bashrc on login shell to ensure common experience
# but since we read ~/.bash_profile from ~/.bashrc,
# set variable to avoid infinite loop
if shopt -q login_shell && [ -z "$__READ_BASHRC" ]; then
    export __READ_BASHRC=1
    . ~/.bashrc
fi
