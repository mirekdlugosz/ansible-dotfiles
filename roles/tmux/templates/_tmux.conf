unbind C-b
set -g prefix M-s
bind M-s send-prefix

set -sg escape-time 1
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# global keys, without prefix
# imitate GUI terminals tabs
bind-key -n C-T new-window -c "#{pane_current_path}"
bind-key -n S-Left previous-window
bind-key -n S-Right next-window
bind-key -n C-S-Left swap-window -d -t -1
bind-key -n C-S-Right swap-window -d -t +1

# keys with prefix
bind c new-window -c "#{pane_current_path}"
unbind r
bind r source-file ~/.tmux.conf

unbind \'
bind \' switch-client -t'{marked}'

set -g default-terminal "{{ tmux_default_terminal }}"
set -g mouse on
set-option -g status-style  bg=colour7,fg=colour0
set-option -g message-style bg=colour7,fg=colour0
set-option -g mode-style    bg=colour0,fg=colour14

bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection
bind-key -T copy-mode-vi r send-keys -X rectangle-toggle
unbind -n -T copy-mode-vi MouseDragEnd1Pane
bind -T copy-mode-vi MouseDragEnd1Pane send -X copy-selection-and-cancel\; run "tmux save-buffer - | xclip -i -sel clipboard > /dev/null"
unbind-key MouseDown2Pane
bind-key -n MouseDown2Pane run "tmux set-buffer \"$(xclip -o -sel primary)\"; tmux paste-buffer"
